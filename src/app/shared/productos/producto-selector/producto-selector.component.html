<ion-header>
  <ion-toolbar>
    <ion-searchbar
      #serchBar
      placeholder="Buscar producto"
      cancelButtonText="Cancelar"
      color="primary"
      showCancelButton="never"
      debounce="250"
      (ionChange)="search($event)"
      [value]="filter$ | async"
      animated="true"
      autocomplete="on"
      enterkeyhint="enter"
      inputmode="text"
    ></ion-searchbar>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-list>
    <ion-item
      *ngFor="let prod of filteredProducts$ | async"
      button
      (click)="select(prod)"
    >
      <ion-label [color]="!prod.activo ? 'danger' : ''">
        <ion-grid class="ion-no-padding">
          <ion-row>
            <ion-col size="2">
              <ion-text color="primary">
                <h4>({{ prod.clave }})</h4>
              </ion-text>
            </ion-col>
            <ion-col>
              <ion-text color="primary">
                <h2>
                  {{ prod.descripcion }}
                  <span class="ion-padding-start" *ngIf="!prod.activo">
                    DESCONTINUADO
                  </span>
                </h2>
              </ion-text>
            </ion-col>
            <ion-col size="2">
              <ion-text>
                <h2>Exis: {{ prod.disponible }}</h2>
              </ion-text>
            </ion-col>
          </ion-row>
          <ion-row class="ion-align-items-end">
            <ion-col>
              <p>{{ prod.linea }} / {{ prod.marca }} / {{ prod.clase }}</p>
            </ion-col>
          </ion-row>
        </ion-grid>
        <p>
          <span>
            Contado:
            <ion-text [color]="tipo === 'CONTADO' ? 'success' : ''">
              {{ prod.precioContado | currency }}
            </ion-text>
          </span>
          <span class="ion-padding-start">
            Cr√©dito:
            <ion-text [color]="tipo === 'CREDITO' ? 'success' : ''">
              {{ prod.precioCredito | currency }}
            </ion-text>
          </span>
        </p>
      </ion-label>
    </ion-item>
  </ion-list>
</ion-content>
