<ion-list *ngIf="pedidos">
    <ion-item-sliding *ngFor="let pedido of pedidos; index as idx">
      <ion-item button [routerLink]="[pedido.id]">
        <ion-label class="ion-text-wrap ion-no-padding">
          <h5>{{ pedido.nombre }}</h5>
          <p>
            <ion-text color="warning">
              <span>{{ pedido.sucursal }} </span>
            </ion-text>
            <span class="ion-padding-start">{{pedido.status}}</span>
            <ion-text [color]="getRetrasoColor(pedido)">
              <span class="ion-padding-start">
                {{fromNow(pedido.lastUpdated)}}
              </span>
            </ion-text>
            <span class="ion-padding-start"> ({{ pedido.updateUser }}) </span>
          </p>
          <div></div>
        </ion-label>

        <ion-badge slot="start" color="warning"> {{ pedido.folio }} </ion-badge>
        <ion-chip slot="end" color="primary">
          {{ pedido.total | currency }}
        </ion-chip>
      </ion-item>

      <ion-item-options side="end">
        <ion-item-option (click)="regresar.emit(pedido)">
          <ion-icon slot="start" name="arrow-undo"></ion-icon>
          Regresar
        </ion-item-option>
        <ion-item-option
          (click)="autorizar.emit(pedido)"
          color="success"
          *ngIf="pedido.warnings"
        >
          <ion-icon slot="start" name="thumbs-up-outline"></ion-icon>
          Autorizar
        </ion-item-option>
      </ion-item-options>
    </ion-item-sliding>
  </ion-list>
